<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Editor de Redação — CTI 2026</title>
  <meta name="description" content="Escreva, salve e acompanhe contagem de palavras/caracteres. Exporte seu rascunho."/>
  <link rel="icon" href="/favicon.ico"/>
  <link rel="stylesheet" href="/assets/css/base.css"/>
  <link rel="stylesheet" href="/assets/css/layout.css"/>
  <link rel="stylesheet" href="/assets/css/componentes.css"/>
  <link rel="stylesheet" href="/assets/css/aulas.css"/>
  <link rel="stylesheet" href="/assets/css/dark.css" media="(prefers-color-scheme: dark)"/>
  <style>
    .editor { display:grid; gap:.75rem; }
    .editor textarea { width:100%; min-height: 50vh; padding:.75rem; border:1px solid var(--border); border-radius: var(--radius-sm); }
    .editor .stats { display:flex; gap:.5rem; flex-wrap:wrap; }
    .editor .stats .chip { border:1px solid var(--border); border-radius:999px; padding:.25rem .6rem; }
  </style>
</head>
<body>
  <a class="skip-link" href="#conteudo">Pular</a>
  <header class="site-header" role="banner">
    <div class="container header-wrap">
      <a class="brand" href="/"><img src="/assets/img/logo.svg" alt="" width="36" height="36"/><span class="brand-name">CTI 2026</span></a>
      <nav class="site-nav site-nav--desktop"><ul>
        <li><a class="nav-link" href="/aulas/">Aulas</a></li>
        <li><a class="nav-link" href="/simulados/">Simulados</a></li>
        <li><a class="nav-link" href="/redacao/" aria-current="page">Redação</a></li>
        <li><a class="nav-link" href="/recursos/">Recursos</a></li>
      </ul></nav>
      <nav class="site-nav--mobile nav-mobile"><details class="menu"><summary class="nav-toggle">Menu</summary>
        <ul class="menu-list">
          <li><a class="nav-link" href="/aulas/">Aulas</a></li>
          <li><a class="nav-link" href="/simulados/">Simulados</a></li>
          <li><a class="nav-link" href="/redacao/" aria-current="page">Redação</a></li>
          <li><a class="nav-link" href="/recursos/">Recursos</a></li>
        </ul>
      </details></nav>
    </div>
  </header>

  <nav class="breadcrumb" aria-label="Caminho">
    <ol>
      <li><a href="/">Início</a></li>
      <li><a href="/redacao/">Redação</a></li>
      <li aria-current="page">Editor</li>
    </ol>
  </nav>

  <main id="conteudo" class="section">
    <div class="container">
      <h1 class="h2">Editor de Redação</h1>
      <div class="card editor">
        <div class="grid" style="grid-template-columns:1fr; gap:.5rem;">
          <div>
            <label for="ed-title" class="text-muted">Título do rascunho</label>
            <input id="ed-title" type="text" placeholder="Ex.: Consumismo entre adolescentes" style="width:100%; padding:.5rem; border:1px solid var(--border); border-radius:6px;"/>
          </div>
          <div class="btn-row">
            <button id="btn-insert-skel" class="btn btn--outline" type="button">Inserir esqueleto</button>
            <button id="btn-save" class="btn btn--primary" type="button">Salvar rascunho</button>
            <button id="btn-new" class="btn btn--secondary" type="button">Novo</button>
            <button id="btn-copy" class="btn btn--outline" type="button">Copiar</button>
            <button id="btn-export" class="btn btn--ghost" type="button">Exportar .txt</button>
            <button id="btn-clear" class="btn btn--ghost" type="button">Limpar</button>
          </div>
        </div>

        <label for="ed-text" class="text-muted">Texto</label>
        <textarea id="ed-text" spellcheck="true" placeholder="Escreva aqui seu artigo de opinião..."></textarea>

        <div class="stats">
          <span class="chip" id="st-words">0 palavras</span>
          <span class="chip" id="st-chars">0 caracteres</span>
          <span class="chip" id="st-paras">0 parágrafos</span>
          <span class="chip" id="st-time">0 min leitura</span>
          <span class="chip text-muted">Dica: 18–25 linhas costuma ser um bom alvo</span>
        </div>

        <div class="card card--soft">
          <h2 class="h4">Rascunhos salvos</h2>
          <ul id="draft-list" class="list"></ul>
        </div>
      </div>
    </div>
  </main>

  <footer class="site-footer">
    <div class="container footer-wrap">
      <p>© 2025–2026 • Projeto CTI 2026.</p>
    </div>
  </footer>

  <script src="/assets/js/storage.js" defer></script>
  <script src="/assets/js/redacao.js" defer></script>
  <script defer>
    document.addEventListener('DOMContentLoaded', () => {
      CTIRedacao.initEditor({
        title: '#ed-title',
        textarea: '#ed-text',
        stats: { words: '#st-words', chars: '#st-chars', paras: '#st-paras', time: '#st-time' },
        list: '#draft-list',
        buttons: {
          insertSkeleton: '#btn-insert-skel',
          save: '#btn-save',
          new: '#btn-new',
          copy: '#btn-copy',
          export: '#btn-export',
          clear: '#btn-clear'
        },
        persistKey: 'redacao:editor'
      });
    });
  </script>
</body>
</html>